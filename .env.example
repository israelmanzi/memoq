# =============================================================================
# OXY Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# For Docker Compose deployment, these values are used by both the containers
# and the application
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
# These are used by the postgres container AND passed to the API
POSTGRES_USER=oxy
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=oxy
POSTGRES_PORT=5066

# Explicit DB connection params (used by API container)
# These are set automatically in docker-compose.yml, but you can override here
# DB_HOST=postgres
# DB_PORT=5432
# DB_USER=oxy
# DB_PASSWORD=your-secure-password-here
# DB_NAME=oxy

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_PORT=5065
REDIS_PASSWORD=your-secure-redis-password-here

# Explicit Redis connection params (used by API container)
# These are set automatically in docker-compose.yml, but you can override here
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=your-secure-redis-password-here

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
API_PORT=5064
NODE_ENV=production

# -----------------------------------------------------------------------------
# Web Frontend
# -----------------------------------------------------------------------------
WEB_PORT=5063

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=generate-a-long-random-string-here-minimum-32-characters
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# URLs
# -----------------------------------------------------------------------------
# External URL for API (used by frontend)
VITE_API_URL=https://your-domain.com:5064/api/v1

# External URL for web app (used in emails)
APP_URL=https://your-domain.com:5063

# -----------------------------------------------------------------------------
# Email (Resend)
# -----------------------------------------------------------------------------
# Get your API key from https://resend.com
# Leave empty to disable email (users auto-verified in dev mode)
RESEND_API_KEY=re_xxxxxxxxxxxx
EMAIL_FROM=OXY <noreply@your-domain.com>

# -----------------------------------------------------------------------------
# MinIO / S3 Storage
# -----------------------------------------------------------------------------
# For Docker deployment, MINIO_ENDPOINT should be 'minio' (container name)
# The docker-compose.yml sets this automatically
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=oxy-documents

# -----------------------------------------------------------------------------
# PDF Conversion Microservice
# -----------------------------------------------------------------------------
# URL of the pdf-converter service (Python FastAPI)
# For Docker deployment, this is set automatically in docker-compose.yml
PDF_CONVERTER_URL=http://127.0.0.1:8001
PDF_CONVERTER_PORT=8001

# -----------------------------------------------------------------------------
# Adobe PDF Services (Optional - High-Fidelity PDF Extraction)
# -----------------------------------------------------------------------------
# Get credentials from https://developer.adobe.com/document-services/
# Free tier: 500 pages/month
# Provides superior text extraction for digital PDFs with native text layers
ADOBE_PDF_SERVICES_CLIENT_ID=
ADOBE_PDF_SERVICES_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Machine Translation (DeepL)
# -----------------------------------------------------------------------------
# Get your API key from https://www.deepl.com/pro-api
# Free tier: 500,000 characters/month
# For the free API, prefix with "free:" (e.g., free:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)
# For the Pro API, use the key directly
DEEPL_API_KEY=

# -----------------------------------------------------------------------------
# Optional Settings
# -----------------------------------------------------------------------------

# Rate Limiting
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW=60000

# Cache TTLs in seconds
# CACHE_TM_MATCH_TTL=3600
# CACHE_TB_MATCH_TTL=3600

# Session TTL in seconds
# SESSION_TTL=604800
